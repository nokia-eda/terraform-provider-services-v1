---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "services-v1_router Resource - services-v1"
subcategory: ""
description: |-
  
---

# services-v1_router (Resource)





<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Attributes) (see [below for nested schema](#nestedatt--metadata))
- `spec` (Attributes) The Router enables the configuration and management of routing functions within a network. This resource allows for setting a unique Router ID, configuring VNIs and EVIs with options for automatic allocation, and defining import and export route targets. It also includes advanced configuration options such as BGP settings, including autonomous system numbers, AFI/SAFI options, and route advertisement preferences. Node selectors can be used to constrain the deployment of the router to specific nodes within the network. (see [below for nested schema](#nestedatt--spec))

### Optional

- `api_version` (String)
- `kind` (String)
- `name` (String) name of the Router
- `namespace` (String) the namespace scope in which to operate
- `status` (Attributes) RouterStatus defines the observed state of Router (see [below for nested schema](#nestedatt--status))

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Required:

- `name` (String)
- `namespace` (String)

Optional:

- `annotations` (Map of String)
- `labels` (Map of String)


<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Optional:

- `bgp` (Attributes) BGP configuration. (see [below for nested schema](#nestedatt--spec--bgp))
- `description` (String) The description of the Router.
- `evi` (Number) EVI for the Router; leave blank for auto-allocation from EVI pool.
- `evi_pool` (String) Reference to EVI pool for auto-allocation.
- `export_target` (String) Export route target in 'target:N:N' format, if not specified, the default value taken as "target:1:<evi>".
- `import_target` (String) Import route target in 'target:N:N' format, if not specified, the default value taken as "target:1:<evi>".
- `ip_load_balancing` (Attributes) IPv4 or IPv6 prefix. Active routes in the FIB that exactly match this prefix or that are longer matches of this prefix are provided with resilient-hash programming. (see [below for nested schema](#nestedatt--spec--ip_load_balancing))
- `node_selector` (List of String) Node selectors for deployment constraints.  If Nodes are selected, the Router will only be deployed on the Nodes selected, if left blank it will be deployed on all Nodes for which there are IRB or RoutedInterfaces referencing this Router.
- `route_leaking` (Attributes) Route leaking controlled by routing policies in and out of the DefaultRouter. (see [below for nested schema](#nestedatt--spec--route_leaking))
- `router_id` (String) Router ID.
- `tunnel_index_pool` (String) Reference to tunnel index allocation pool.
- `type` (String) Select the type of Router.  Simple doesn't include any overlay control plane or dataplane properties (EVPN/VXLAN). EVPNVXLAN includes the properties needed to provision this Router over an IP Fabric.
- `vni` (Number) VNI for the Router; leave blank for auto-allocation from VNI pool.
- `vni_pool` (String) Reference to VNI pool for auto-allocation.

<a id="nestedatt--spec--bgp"></a>
### Nested Schema for `spec.bgp`

Optional:

- `autonomous_system` (Number) Autonomous System number for BGP.
- `ebgp_preference` (Number) Preference to be set for eBGP [default=170].
- `enabled` (Boolean) Enable or disable BGP.
- `ibgp_preference` (Number) Preference to be set for iBGP [default=170].
- `ip_alias_nexthops` (Attributes List) IP aliasing configuration. (see [below for nested schema](#nestedatt--spec--bgp--ip_alias_nexthops))
- `ipv4_unicast` (Attributes) Parameters relating to the IPv4 unicast AFI/SAFI. (see [below for nested schema](#nestedatt--spec--bgp--ipv4_unicast))
- `ipv6_unicast` (Attributes) Parameters relating to the IPv6 unicast AFI/SAFI. (see [below for nested schema](#nestedatt--spec--bgp--ipv6_unicast))
- `keychain` (String) Keychain to be used for authentication
- `min_wait_to_advertise` (Number) Minimum wait time before advertising routes post BGP restart.
- `rapid_withdrawl` (Boolean) Enable rapid withdrawal in BGP.
- `wait_for_fib_install` (Boolean) Wait for FIB installation before advertising routes.

<a id="nestedatt--spec--bgp--ip_alias_nexthops"></a>
### Nested Schema for `spec.bgp.ip_alias_nexthops`

Required:

- `next_hop` (String) The nexthop IP address to track for the IP alias.

Optional:

- `esi` (String) 10 byte Ethernet Segment Identifier, if not set a type 0 ESI is generated.
- `preferred_active_node` (String) When not set the ES is used in an all active mode. This references the ToppNode object and when set, the DF algorithm is configured to type preference and the selected Node is set with a higher preference value. All other Nodes have a lower value configured.


<a id="nestedatt--spec--bgp--ipv4_unicast"></a>
### Nested Schema for `spec.bgp.ipv4_unicast`

Optional:

- `advertise_ipv6_next_hops` (Boolean) Enables advertisement of IPv4 Unicast routes with IPv6 next-hops to peers.
- `enabled` (Boolean) Enables the IPv4 unicast AFISAFI.
- `multipath` (Attributes) Enable multipath. (see [below for nested schema](#nestedatt--spec--bgp--ipv4_unicast--multipath))
- `receive_ipv6_next_hops` (Boolean) Enables the advertisement of the RFC 5549 capability to receive IPv4 routes with IPv6 next-hops.

<a id="nestedatt--spec--bgp--ipv4_unicast--multipath"></a>
### Nested Schema for `spec.bgp.ipv4_unicast.multipath`

Required:

- `max_allowed_paths` (Number) The maximum number of BGP ECMP next-hops for BGP routes with an NLRI belonging to the address family of this configuration context.

Optional:

- `allow_multiple_as` (Boolean) When set to true, BGP is allowed to build a multipath set using BGP routes with different neighbor AS (most recent AS in the AS_PATH), When set to false, BGP is only allowed to use non-best paths for ECMP if they meet the multipath criteria and they have the same neighbor AS as the best path.



<a id="nestedatt--spec--bgp--ipv6_unicast"></a>
### Nested Schema for `spec.bgp.ipv6_unicast`

Optional:

- `enabled` (Boolean) Enables the IPv6 unicast AFISAFI
- `multipath` (Attributes) Enable multipath (see [below for nested schema](#nestedatt--spec--bgp--ipv6_unicast--multipath))

<a id="nestedatt--spec--bgp--ipv6_unicast--multipath"></a>
### Nested Schema for `spec.bgp.ipv6_unicast.multipath`

Required:

- `max_allowed_paths` (Number) The maximum number of BGP ECMP next-hops for BGP routes with an NLRI belonging to the address family of this configuration context.

Optional:

- `allow_multiple_as` (Boolean) When set to true, BGP is allowed to build a multipath set using BGP routes with different neighbor AS (most recent AS in the AS_PATH), When set to false, BGP is only allowed to use non-best paths for ECMP if they meet the multipath criteria and they have the same neighbor AS as the best path.




<a id="nestedatt--spec--ip_load_balancing"></a>
### Nested Schema for `spec.ip_load_balancing`

Optional:

- `prefix` (Attributes List) IPv4 or IPv6 prefix. Active routes in the FIB that exactly match this prefix or that are longer matches of this prefix are provided with resilient-hash programming. (see [below for nested schema](#nestedatt--spec--ip_load_balancing--prefix))

<a id="nestedatt--spec--ip_load_balancing--prefix"></a>
### Nested Schema for `spec.ip_load_balancing.prefix`

Required:

- `prefix` (String) IPv4 or IPv6 prefix. Active routes in the FIB that exactly match this prefix or that are longer matches of this prefix are provided with resilient-hash programming.

Optional:

- `hash_buckets_per_path` (Number) The number of times each next-hop is repeated in the fill pattern if there are max-paths ECMP next-hops.
- `max_ecmp` (Number) The maximum number of ECMP next-hops per route associated with the resilient-hash prefix.



<a id="nestedatt--spec--route_leaking"></a>
### Nested Schema for `spec.route_leaking`

Optional:

- `export_policy` (String) Reference to a Policy resource to use when evaluating route exports from the DefaultRouter.
- `import_policy` (String) Reference to a Policy resource to use when evaluating route imports into the DefaultRouter.



<a id="nestedatt--status"></a>
### Nested Schema for `status`

Optional:

- `bgp_peers` (List of String) List of BGPPeers attached to the router.
- `evi` (Number) EVI in use for this Router.
- `export_target` (String) Export route target for this Router.
- `health` (Number) Indicates the health score of the Router.
- `health_score_reason` (String) Explains the reason for the health score.
- `import_target` (String) Import route target for this Router.
- `irb_interfaces` (List of String) List of IRBInterfaces attached to the router.
- `last_change` (String) Timestamp of the last state change.
- `nodes` (List of String) List of nodes on which the Router is deployed.
- `num_nodes` (Number) Number of nodes on which the Router is configured.
- `operational_state` (String) Operational state of the Router.
- `routed_interfaces` (List of String) List of RoutedInterfaces attached to the router.
- `tunnel_index` (Number) Vxlan tunnel index in use.
- `vni` (Number) VNI in use for this Router.
